{% extends 'main.html'%}
{% load static %}
{% load humanize %}
{% block title%}cart{%endblock title%}
{% block content %}

<div class="row mt-5 p-lg-5" style="color: black; margin-top: 300px;">
    <div class="mt-5 p-lg-5" >

    </div>
    <div class="overflow-auto">
        <div class="col-lg-12">
            <div class="box-element">
              <a class="btn btn-outline-dark" href="{% url 'index' %}#menu"><i class="bi-arrow-left"></i>menu</a>
              <br/>
              <hr/>
              <table class="table">
                <tr>
                    <th><h5>Menu Items: <strong>{{order.get_cart_items}}</strong></h5></th>
                    <th><h5>Total: <strong> {{order.get_cart_total | intcomma }}</strong></h5></th>
                    <th>
                        <a style="float:right; margin:5px" class="btn btn-success" href="{% url 'checkout' %}">Checkout</a>
                    </th>
                </tr>
              </table>
            </div>
    
            <br/>
    
            <div class="box-element">
                <div class="cart-row" style="display: flex;">
                    <div style="flex:2"></div>
                    <div style="flex:2"><strong>Menu Item</strong></div>
                    <div style="flex:1"><strong>Price</strong></div>
                    <div style="flex:1"><strong>Quantity</strong></div>
                </div>
                <hr/>
                {% for item in items %}
                <div class="cart-row" style="display: flex; align-items: center;">
                    <div style="flex:2"><img src="{{item.menu.imageURL}}" class="img-fluid" style="width:80px; " alt=""></div>
                    <div style="flex:2">{{item.menu.name}}</div>
                    <div style="flex:1">{{item.menu.price | floatformat:2}}</div>
                    <div style="flex:1; display: flex; text-align: center;">
                        <p style="display: inline-block; font-weight: 700; padding-right: 10px; margin-top: 10px;">x{{item.quantity}}</p>
                        <div style="display:block; cursor: pointer; width: 12px;">
                            <span data-menu={{item.menu.id}} data-action="add" class="update-cart "><i class="bi-arrow-up-circle-fill"></i></span>
                            <span data-menu={{item.menu.id}} data-action="remove" class="update-cart "><i class="bi-arrow-down-circle-fill"></i></span>
                        </div>
                    </div>
                </div>
                {% endfor %}
    
            </div>
    
        </div>
    </div>
</div>
{% endblock content %}